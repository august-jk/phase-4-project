(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(15),a=n.n(s),o=(n(22),n(6)),j=(n(23),n(10),n(0));var i=function(){var e=Object(c.useContext)(p),t=(e.user,e.setUser);return Object(j.jsxs)("div",{className:"form-group form-group-sm",children:[Object(j.jsx)("h1",{children:"This is the home screen"}),Object(j.jsx)("button",{onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(e){e.ok&&t(null)}))},children:"Logout"})]})},l=n(29),u=n(30),b=n(28);var d=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),a=Object(o.a)(s,2),i=a[0],l=a[1],d=Object(c.useState)([]),O=Object(o.a)(d,2),h=O[0],m=O[1],x=Object(c.useState)(!1),f=Object(o.a)(x,2),v=(f[0],f[1]),g=Object(c.useContext)(p),C=(g.user,g.setUser);return Object(j.jsxs)("div",{children:[h?h.map((function(e){return Object(j.jsx)("p",{children:"error"})})):null,Object(j.jsxs)(b.a,{onSubmit:function(e){e.preventDefault(),v(!0),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:i})}).then((function(e){v(!1),e.ok?e.json().then((function(e){return C(e)})):e.json().then((function(e){return m(e.errors)}))}))},children:[Object(j.jsxs)(b.a.Group,{className:"m-3",controlId:"email",children:[Object(j.jsx)(b.a.Label,{children:"Username:"}),Object(j.jsx)(b.a.Control,{type:"username",placeholder:"Username",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(j.jsxs)(b.a.Group,{className:"m-3",controlId:"formBasicPassword",children:[Object(j.jsx)(b.a.Label,{children:"Password:"}),Object(j.jsx)(b.a.Control,{type:"password",placeholder:"Password",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(j.jsx)(u.a,{className:"m-3",variant:"primary",type:"submit",children:"Login"})]})]})};var O=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),a=Object(o.a)(s,2),i=a[0],l=a[1],d=Object(c.useState)(""),O=Object(o.a)(d,2),h=O[0],m=O[1],x=Object(c.useState)([]),f=Object(o.a)(x,2),v=(f[0],f[1]),g=Object(c.useState)(!1),C=Object(o.a)(g,2),S=(C[0],C[1]),y=Object(c.useContext)(p),w=(y.user,y.setUser);return Object(j.jsxs)(b.a,{onSubmit:function(e){e.preventDefault(),S(!0),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:i,passwordConfirmation:h})}).then((function(e){S(!1),e.ok?e.json().then((function(e){return w(e)})):e.json().then((function(e){return v(e.errors)}))}))},children:[Object(j.jsxs)(b.a.Group,{className:"m-3",controlId:"email",children:[Object(j.jsx)(b.a.Label,{children:"Username:"}),Object(j.jsx)(b.a.Control,{type:"username",placeholder:"Username",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(j.jsxs)(b.a.Group,{className:"m-3",controlId:"formBasicPassword",children:[Object(j.jsx)(b.a.Label,{children:"Password:"}),Object(j.jsx)(b.a.Control,{type:"password",placeholder:"Password",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(j.jsxs)(b.a.Group,{className:"m-3",controlId:"formBasicPassword",children:[Object(j.jsx)(b.a.Label,{children:"Confirm Password:"}),Object(j.jsx)(b.a.Control,{type:"password",placeholder:"Confirm Password",value:h,onChange:function(e){return m(e.target.value)}})]}),Object(j.jsx)(u.a,{className:"m-3",variant:"primary",type:"submit",children:"Signup"})]})};var h=function(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),n=t[0],r=t[1];function s(){r(!n)}return Object(j.jsxs)(l.a,{className:"w-50 position-absolute top-50 start-50 translate-middle",children:[Object(j.jsx)(l.a.Title,{children:Object(j.jsx)("h1",{className:"m-3",children:"Please Login or Signup:"})}),Object(j.jsx)(l.a.Body,{children:Object(j.jsx)("div",{className:"d-flex justify-content-center",children:n?Object(j.jsxs)(l.a,{children:[Object(j.jsx)(l.a.Body,{children:Object(j.jsx)(d,{})}),Object(j.jsx)(l.a.Footer,{children:Object(j.jsxs)("p",{children:["Don't have an account?",Object(j.jsx)("br",{}),Object(j.jsx)(u.a,{onClick:s,children:"Signup"})]})})]}):Object(j.jsxs)(l.a,{children:[Object(j.jsx)(l.a.Body,{children:Object(j.jsx)(O,{})}),Object(j.jsx)(l.a.Footer,{children:Object(j.jsxs)("p",{children:["Already have an account?",Object(j.jsx)("br",{}),Object(j.jsx)(u.a,{onClick:s,children:"Login"})]})})]})})})]})},p=r.a.createContext();var m=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return r(e)}))}))}),[]),Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(p.Provider,{value:{user:n,setUser:r},children:null===n?Object(j.jsx)(h,{}):Object(j.jsx)(i,{})})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root")),x()}},[[27,1,2]]]);
//# sourceMappingURL=main.e0c05e26.chunk.js.map